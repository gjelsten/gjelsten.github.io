<!doctype html>
<html lang="nb">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Priskalkulator Film</title>
  <style>
    .calc-wrap{max-width:820px;margin:auto;padding:16px;font:16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif;color:#eaeaea;background:#0b0b0b}
    .card{background:#111;border:1px solid #1e1e1e;border-radius:10px;padding:16px}
    h1{font-size:20px;margin:0 0 8px}
    .note{color:#9aa0a6;font-size:13px;margin:0 0 12px}
    .row{display:grid;grid-template-columns:1fr auto;gap:12px;align-items:center;margin:10px 0}
    .row label{display:block;font-weight:600}
    .row .hint{color:#a1a1a1;font-weight:400;font-size:13px;margin-top:2px}
    input[type=range]{width:100%}
    .val{min-width:130px;text-align:right}
    .out{display:grid;gap:8px;margin-top:16px}
    .out .sum{display:flex;justify-content:space-between;align-items:center;padding:12px;border:1px dashed #2a2a2a;border-radius:8px;background:#0f0f0f}
    .sum strong{font-size:22px}
    .grid2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .pill{font-size:12px;color:#c8c8c8}
    .cta{margin-top:10px;font-size:14px;color:#c8c8c8}
    .k{color:#9aa0a6;font-size:12px}
    .caps{font-variant:all-small-caps;letter-spacing:.3px}
    @media (max-width:640px){ .grid2{grid-template-columns:1fr} .val{min-width:auto} }
  </style>
</head>
<body>
  <div class="calc-wrap card" id="film-calc" aria-live="polite">
    <h1>Priskalkulator (omtrentlig)</h1>
    <p class="note">Gi et grovt estimat før budsjett. Tallene er veiledende og justeres etter omfang.</p>

    <!-- 1) Opptaksdager -->
    <div class="row">
      <div>
        <label for="shoot">Opptaksdager</label>
        <div class="hint">Antall hele dager på location/studio</div>
      </div>
      <div class="val"><span id="shoot-val">1</span> dag</div>
    </div>
    <input id="shoot" type="range" min="0" max="6" step="1" value="1" aria-label="Opptaksdager"/>

    <!-- 2) Kompleksitet / crew -->
    <div class="row">
      <div>
        <label for="complex">Kompleksitet & crew</label>
        <div class="hint">Basic, Standard eller Avansert</div>
      </div>
      <div class="val" id="complex-val">Standard</div>
    </div>
    <input id="complex" type="range" min="1" max="3" step="1" value="2" aria-label="Kompleksitet"/>

    <!-- 3) Etterarbeid -->
    <div class="row">
      <div>
        <label for="post">Etterarbeid</label>
        <div class="hint">Klipp, lyd, farge, grafikk</div>
      </div>
      <div class="val" id="post-val">Standard</div>
    </div>
    <input id="post" type="range" min="1" max="3" step="1" value="2" aria-label="Etterarbeid"/>

    <!-- 4) Leveranser -->
    <div class="row">
      <div>
        <label for="deliver">Antall leveranser</label>
        <div class="hint">Hovedfilm + cutdowns/varianter</div>
      </div>
      <div class="val"><span id="deliver-val">4</span> stk</div>
    </div>
    <input id="deliver" type="range" min="1" max="10" step="1" value="4" aria-label="Antall leveranser"/>

    <div class="out">
      <div class="grid2">
        <div class="pill k">Formel: grunnpris × opptaksdager × (crew‑faktor) + etterarbeid + leveranser</div>
        <div class="pill k" id="assumptions"></div>
      </div>
      <div class="sum"><span class="caps">Estimert pris (inkl. usikkerhet)</span><strong id="price">—</strong></div>
    </div>
    <p class="cta">Dette er en pekepinn. Del mål, målgruppe og hvor filmen skal brukes, så sender vi et presist budsjett.</p>
  </div>

  <script>
    // ——— Justerbare antakelser (NOK) ———
    const CFG={
      baseDay:12000,            // grunnpris pr opptaksdag (lite team)
      crewFactor:{1:1.0,2:1.4,3:2.0}, // Basic / Standard / Avansert
      postPerShootDay:10000,    // standard etterarbeid pr opptaksdag
      postLevel:{1:0.8,2:1.0,3:1.4}, // Light / Standard / Premium
      deliverMainIncluded:1,    // hovedfilm inkludert
      deliverExtraCost:3000,    // per ekstra leveranse (cutdown/variant)
      uncertainty:0.15          // ±15% usikkerhet
    };

    const fmt = new Intl.NumberFormat('nb-NO',{style:'currency',currency:'NOK',maximumFractionDigits:0});

    const el={
      shoot:document.getElementById('shoot'), shootVal:document.getElementById('shoot-val'),
      complex:document.getElementById('complex'), complexVal:document.getElementById('complex-val'),
      post:document.getElementById('post'), postVal:document.getElementById('post-val'),
      deliver:document.getElementById('deliver'), deliverVal:document.getElementById('deliver-val'),
      price:document.getElementById('price'), assumptions:document.getElementById('assumptions')
    };

    const labels={ complex:{1:'Basic',2:'Standard',3:'Avansert'}, post:{1:'Light',2:'Standard',3:'Premium'} };

    function calc(){
      const d=+el.shoot.value; const c=+el.complex.value; const p=+el.post.value; const n=+el.deliver.value;
      el.shootVal.textContent=d; el.complexVal.textContent=labels.complex[c]; el.postVal.textContent=labels.post[p]; el.deliverVal.textContent=n;

      const shootCost = d * CFG.baseDay * CFG.crewFactor[c];
      const postCost  = d * CFG.postPerShootDay * CFG.postLevel[p];
      const extraDel  = Math.max(0, n - CFG.deliverMainIncluded) * CFG.deliverExtraCost;
      const subtotal  = shootCost + postCost + extraDel;
      const min = subtotal * (1 - CFG.uncertainty);
      const max = subtotal * (1 + CFG.uncertainty);

      el.price.textContent = `${fmt.format(min)} – ${fmt.format(max)}`;
      el.assumptions.textContent = `Antatt grunnlag: ${fmt.format(CFG.baseDay)}/dag, etterarbeid ${fmt.format(CFG.postPerShootDay)}/dag, ekstra leveranse ${fmt.format(CFG.deliverExtraCost)}.`;
    }

    ['input','change'].forEach(evt=>{
      el.shoot.addEventListener(evt,calc);
      el.complex.addEventListener(evt,calc);
      el.post.addEventListener(evt,calc);
      el.deliver.addEventListener(evt,calc);
    });

    calc();
  </script>
</body>
</html>
